<!DOCTYPE html>
<html lang="zh-TW">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>賭王大賽 (Gambling King)</title>

    <!-- Robust Error Handling Script (Must come first) -->
    <script>
        window.onerror = function (msg, url, line, col, error) {
            var errorDiv = document.getElementById('error-display');
            if (errorDiv) {
                errorDiv.style.display = 'block';
                errorDiv.innerHTML += '<p style="color:red"><strong>Global Error:</strong> ' + msg + '<br><small>' + url + ':' + line + '</small></p>';
            }
            console.error("Global Error:", msg, url, line, col, error);
            return false;
        };
        console.log("Starting application loading...");
    </script>

    <!-- Tailwind CSS (CDN) -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        'pixel': ['"Press Start 2P"', '"Noto Sans TC"', 'cursive', 'monospace'],
                        'sans': ['"Noto Sans TC"', 'sans-serif'],
                    },
                    colors: {
                        'retro-bg': '#1a1a2e',
                        'retro-card': '#16213e',
                        'retro-accent': '#e94560',
                        'retro-text': '#0f3460',
                        'neon-green': '#00ff41',
                        'neon-pink': '#ff00ff',
                        'neon-cyan': '#00ffff',
                    },
                    boxShadow: {
                        'pixel': '4px 4px 0px 0px rgba(0,0,0,0.5)',
                        'pixel-sm': '2px 2px 0px 0px rgba(0,0,0,0.5)',
                    },
                    animation: {
                        'pulse-fast': 'pulse 1s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                    }
                }
            }
        }
    </script>

    <!-- React & ReactDOM (UNPKG) -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>

    <!-- Babel (UNPKG) -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;700&family=Press+Start+2P&display=swap"
        rel="stylesheet">

    <!-- Custom Styles (CSS Works fine separately) -->
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <!-- Fallback Loading Screen -->
    <div id="loading-screen">
        <h1 style="font-size: 24px; margin-bottom: 20px;">SYSTEM LOADING...</h1>
        <div style="border: 2px solid #00ff41; width: 200px; height: 20px; position: relative;">
            <div style="background: #00ff41; height: 100%; width: 50%; opacity: 0.5;"></div>
        </div>
        <p style="margin-top: 20px;">Downloading V2.1 assets...</p>
        <p style="color: #ff00ff; margin-top: 20px; font-size: 12px;">If stuck > 10s: Check Internet or try refreshing.
        </p>
    </div>

    <!-- Error Display Area -->
    <div id="error-display">
        <h2 style="color: red; border-bottom: 2px solid red; padding-bottom: 10px;">SYSTEM CRITICAL ERROR</h2>
        <p>Please check the console (F12) or report this:</p>
        <div id="detailed-errors"></div>
        <hr style="border-color: red; margin: 20px 0;">
    </div>

    <div id="root" style="display: none;"></div>

    <!-- Application Logic -->
    <script>
        window.FIREBASE_CONFIG = {
            apiKey: "AIzaSyDyurh_J-Q7nP1RHSb-XnqM7y9wApAGv0s",
            authDomain: "gambleboard-677ab.firebaseapp.com",
            databaseURL: "https://gambleboard-677ab-default-rtdb.firebaseio.com",
            projectId: "gambleboard-677ab",
            storageBucket: "gambleboard-677ab.firebasestorage.app",
            messagingSenderId: "713075175839",
            appId: "1:713075175839:web:a690b48bf832aaa325cdaa",
            measurementId: "G-ESSFZZST3X"
        };
    </script>
    <script src="https://www.gstatic.com/firebasejs/12.9.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/12.9.0/firebase-database-compat.js"></script>
    <script type="text/babel" src="app.js"></script>
</body>

</html>